{% extends 'layout.html' %}
{% block content %}
<form action="/contacts/new" method="post">
  <fieldset>
    <legend>Add a new contact</legend>
    <p>
      <label for="first">First Name</label>
      <input
        id="first"
        type="text"
        name="first"
        placeholder="First Name"
        value="{{ contact.first or '' }}"
        required
      />
      <span class="error">{{ contact.errors.get('first') or '' }}</span>
    </p>
    <p>
      <label for="last">Last Name</label>
      <input
        id="last"
        type="text"
        name="last"
        placeholder="Last Name"
        value="{{ contact.last or '' }}"
        required
      />
      <span class="error">{{ contact.errors.get('last') or '' }}</span>
    </p>
    <p>
      <label for="phone">Phone Number</label>
      <input
        id="phone"
        type="tel"
        name="phone"
        placeholder="Phone Number"
        value="{{ contact.phone or '' }}"
        required
      />
      <span class="error">{{ contact.errors.get('phone') or '' }}</span>
    </p>
    <p>
      <label for="email">Email Address</label>
      <input
        id="email"
        type="email"
        name="email"
        placeholder="Email"
        value="{{ contact.email or '' }}"
        hx-get="/contacts/{{ contact.id }}/email"
        hx-trigger="keyup changed delay:500ms"
        hx-target="next .error"
        required
      />
      <span class="error">{{ contact.errors.get('email') or '' }}</span>
    </p>
    <input type="submit" value="Add Contact" />
    <a href="/contacts">Cancel</a>
  </fieldset>
</form>
{% endblock %}